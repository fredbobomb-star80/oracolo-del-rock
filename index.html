<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chiedilo allâ€™Oracolo del Rock â€” risposta casuale</title>

  <!-- TUTTO LO STILE (aka CSS) Ãˆ QUI DENTRO -->
  <style>
    :root{
      --bg:#0b0b0f;
      --text:#eee;
      --panel:#1b1b22;
      --panel-hover:#262632;
      --border:#333;
      --neon-blue:#00c8ff;
      --neon-pink:#ff3ccf;
    }

    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:system-ui,Arial,sans-serif;
      text-align:center;
    }

    /* CABINA DELLâ€™ORACOLO = CONTENITORE */
    .hero{
      width:100%;
      max-width:980px;
      margin:0 auto;
      position:relative;          /* fondamentale per sovrapporre il video */
      display:flex;
      justify-content:center;
      background: radial-gradient(circle at top, #120018, #050507 70%);
      padding-top:10px;
    }
    .hero-img{
      width:100%;
      height:auto;
      display:block;
    }

    /* VIDEO DENTRO LA CABINA (come nel tuo disegno) */
    .yt-overlay{
      position:absolute;
      left:20%;       /* spostamento orizzontale */
      top:66%;      /* spostamento verticale */
      width:60%;      /* larghezza del video */
      height:18%;     /* altezza del video */
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .yt-overlay iframe{
      width:100%;
      height:100%;
      border:3px solid var(--neon-blue);
      border-radius:14px;
      background:#111;
      box-shadow:0 0 18px rgba(0,200,255,.35);
    }

    /* BLOCCO SOTTO CABINA */
    .wrap{
      max-width:920px;
      margin:0 auto;
      padding:16px 16px 36px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
      box-sizing:border-box;
    }
    .wrap p{ opacity:.9; margin:0; }

    /* PULSANTI PRINCIPALI */
    .btns{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:4px;
    }
    button, a.btn{
      padding:12px 16px;
      border-radius:12px;
      border:1px solid var(--border);
      background:var(--panel);
      color:var(--text);
      cursor:pointer;
      text-decoration:none;
      font-weight:800;
    }
    button:hover, a.btn:hover{ background:var(--panel-hover); }

    /* BOTTONE DOMINANTE */
    #new{
      background:var(--neon-blue);
      color:#000;
      border:none;
      font-weight:900;
      padding:14px 22px;
      border-radius:999px;
      box-shadow:0 0 15px rgba(0,200,255,.55);
    }
    #new:hover{ filter:brightness(1.05); }

    /* SOCIAL COERENTI */
    .social-buttons{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
      margin-top:2px;
    }
    .social-btn{
      text-decoration:none;
      color:#ddd;
      background:#1a1a1a;
      border:2px solid var(--neon-pink);
      padding:8px 14px;
      border-radius:999px;
      font-size:14px;
      font-weight:800;
      display:flex;
      align-items:center;
      gap:8px;
      transition:all .2s ease;
      box-shadow:0 0 12px rgba(255,60,207,.25);
    }
    .social-btn i{ font-size:16px; }
    .social-btn:hover{ transform:scale(1.05); color:#fff; }
    .social-btn.youtube:hover{ background:#ff0000; border-color:#ff0000; }
    .social-btn.facebook:hover{ background:#1877f2; border-color:#1877f2; }
    .social-btn.instagram:hover{ background:#e4405f; border-color:#e4405f; }

    .note{
      font-size:13px;
      opacity:.7;
      margin-top:4px;
    }
  </style>
</head>

<body>

  <!-- CABINA -->
  <header class="hero">
    <img 
      src="https://raw.githubusercontent.com/fredbobomb-star80/oracolo-del-rock/main/214417.png"
      alt="Chiedilo allâ€™Oracolo del Rock"
      class="hero-img"
    />

    <!-- DIV CHE LA YOUTUBE API RIEMPIE CON Lâ€™IFRAME -->
    <div id="yt" class="yt-overlay"></div>
  </header>

  <!-- SOTTO CABINA -->
  <main class="wrap">
    <p>Pesca una tra le <strong>666 risposte</strong> che gli Dei del Rock hanno in serbo per te.</p>

    <div class="btns">
      <button id="new">ðŸŽ² Nuova risposta</button>
      <a class="btn" id="open" target="_blank" rel="noopener">â†— Apri su YouTube</a>
    </div>

    <div class="social-buttons">
      <!-- metti qui il tuo canale vero se vuoi -->
      <a href="https://youtube.com/@TUOCANALE" target="_blank" class="social-btn youtube">
        <i class="fab fa-youtube"></i> YouTube
      </a>
      <a href="https://www.facebook.com/profile.php?id=61583198656003" target="_blank" class="social-btn facebook">
        <i class="fab fa-facebook-f"></i> Facebook
      </a>
      <a href="https://www.instagram.com/chiedilo_all_oracolo_del_rock" target="_blank" class="social-btn instagram">
        <i class="fab fa-instagram"></i> Instagram
      </a>
    </div>

    <p class="note">Da unâ€™idea originale di FredBee â€” tutti i diritti riservati Â©2025</p>
  </main>


  <!-- LOGICA YOUTUBE (UGUALE ALLA TUA, SOLO RIPULITA) -->
  <script>
  const API_KEY     = "AIzaSyDNsQKEvKwHOyZCJ0mojJS325Sbw6wX9as";
  const PLAYLIST_ID = "PL5l5Dspe3Obumt-dqGDVzM4bHp5Qc_vVx";
  const PAGE_SIZE   = 50;

  (function(){
    const s=document.createElement('script');
    s.src="https://www.youtube.com/iframe_api";
    document.head.appendChild(s);
  })();

  let player = null;
  let allIds = [];

  window.onYouTubeIframeAPIReady = () => {
    player = new YT.Player('yt', {
      height: '390',
      width: '640',
      playerVars: { modestbranding:1, rel:0 },
      events: { onReady: onReady }
    });
  };

  function onReady(){
    document.getElementById("new").addEventListener("click", playRandom);
    boot();
  }

  async function boot(){
    try{
      allIds = await fetchAllPlaylistIds(PLAYLIST_ID);
      if(!allIds.length) throw new Error("Playlist vuota o non accessibile");
      playRandom();
    }catch(err){
      console.error(err);
      alert("Errore nel caricare la playlist. Controlla API key e visibilitÃ  playlist.");
    }
  }

  async function fetchAllPlaylistIds(playlistId){
    let ids = [];
    let pageToken = "";
    do{
      const url = new URL("https://www.googleapis.com/youtube/v3/playlistItems");
      url.searchParams.set("key", API_KEY);
      url.searchParams.set("part", "snippet");
      url.searchParams.set("playlistId", playlistId);
      url.searchParams.set("maxResults", PAGE_SIZE);
      if(pageToken) url.searchParams.set("pageToken", pageToken);

      const res = await fetch(url.toString());
      if(!res.ok) throw new Error("HTTP "+res.status);
      const data = await res.json();

      const batch = (data.items||[])
        .map(i => i?.snippet?.resourceId?.videoId)
        .filter(Boolean);

      ids.push(...batch);
      pageToken = data.nextPageToken || "";
    } while(pageToken);

    return [...new Set(ids)];
  }

  function playRandom(){
    if(!player || !allIds.length) return;
    const idx = Math.floor(Math.random() * allIds.length);
    const id  = allIds[idx];

    player.loadVideoById(id);

    const open = document.getElementById("open");
    if(open) open.href = `https://www.youtube.com/watch?v=${id}&list=${PLAYLIST_ID}`;
  }
  </script>

  <!-- icone social -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

</body>
</html>


